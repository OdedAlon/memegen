<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon.png">
    <link rel="stylesheet" href="css/main.css">
    <title>Memegen</title>
</head>

<body onload="onInit()">

    <div class="main-screen" onclick="onCloseModal()"></div>
    <div class="second-main-screen" onclick="toggleMenu()"></div>

    <header class="flex center">
        <div class="gradient-container flex">
            <div class="text-container flex">
                <img src="img/logo.png" class="logo" />
            </div>
            <nav class="nav-bar flex align-center">
                <a class="link-gallery active" href="#">Gallery</a>
                <a class="link-memes" href="memes.html">Memes</a>
            </nav>
            <button class="btn-menu" onclick="toggleMenu()">☰</button>
        </div>
    </header>
    <main>
        <div class="main-container flex">
            <div class="search-container flex">
                <input type="text" class="input-search" placeholder="Search" oninput="onSearchInput()"/>
                <input id="file-input" type="file" class="file-input btn" name="image" onchange="onImgInput(event)" hidden/>
                <div class="share-container"></div>
                <label for="file-input"><div class="img-upload"></div></label>
            </div>
            <div class="upload-container">
            </div>
            <div class="gallery-container grid center">
                <img src="img/1.jpg" />
            </div>
        </div>
    </main>
    <footer class="flex align-center">
        <p class="copyright">Copyrights  Ⓒ</p>
    </footer>

    <div class="modal-container">
        <modal class="meme-editor-modal grid">
            <button class="btn-close-modal" onclick="onCloseModal()">X</button>
            <div class="canvas-containerflex center center-align">
                <canvas class="meme-canvas flex" height="500" width="500"></canvas>
            </div>
            <div class="canvas-controls flex align-center">
                <input class="input-txt" name="input-txt" type="text" placeholder="Your text:"
                onClick="this.select()" oninput="onTextChange()"></input>
                <div class="lines-controls flex">
                    <button class="btn-switch-line" onclick="onSwitchLine()"></button>
                    <button class="btn-add-line" onclick="onAddLine()"></button>
                    <button class="btn-remove-line" onclick="onRemoveLine()"></button>
                </div>
                <div class="text-controls grid">
                    <button class="btn-font-increase" onclick="onChangeFontSize(1)"></button>
                    <button class="btn-font-decrease" onclick="onChangeFontSize(-1)"></button>
                    <input type="color" id="fill-color" class="fill-color" value="#ffffff" oninput="onChangefillColor(this.value)"/>
                    <input type="color" id="stroke-color" class="stroke-color"  value="#000000" oninput="onChangeStrokeColor(this.value)"/>
                    <label for="fill-color"><img src="icon/fill.png" class="img-fill-color"></label>
                    <label for="stroke-color"><img src="icon/stroke.png" class="img-stroke-color"></label>
                    <button class="btn-row-left" onclick="onMoveSidesRow(-5)"></button>
                    <button class="btn-row-up" onclick="onMoveUpDownRow(-5)"></button>
                    <button class="btn-row-down" onclick="onMoveUpDownRow(5)"></button>
                    <button class="btn-row-right" onclick="onMoveSidesRow(5)"></button>
                </div>
                <div class="file-controls flex">
                    <button class="btn-save" onclick="onSaveMeme()"></button>
                    <form action="" method="POST" enctype="multipart/form-data" onsubmit="uploadImg(this, event)">
                        <input name="img" id="imgData" type="hidden" />
                        <button class="btn btn-share" type="submit"></button>
                    </form>
                    <a class="download-link" href="#" onclick="onDownloadCanvas(this)" download=""></a>
                </div>
            </div>
        </modal>
    </div>
    <div class="modal-alert flex center align-center">
        <h2>Your meme saved!</h2>
    </div>
    <!-- <script src="js/touch-events-service.js"></script>   TODO: REmove!!!   -->
    <script src="js/upload-service.js"></script>
    <script src="js/storage-service.js"></script>
    <script src="js/meme-service.js"></script>
    <script src="js/saved-meme-controller.js"></script>
    <script src="js/controller.js"></script>
</body>

</html>